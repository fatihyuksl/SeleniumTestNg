public class US_022 {}
/*
TradyLinnPages trd = new TradyLinnPages();
Actions action = new Actions(Driver.getDriver());
SoftAssert soft = new SoftAssert();
@Test
public void US_0022_TC_001() {
//1. tradylinn.com git.
Driver.getDriver().get(ConfigReader.getProperty("tradyUrl"));
//2. Sayfay? a?a?? kayd?r.
action.sendKeys(Keys.PAGE_DOWN).perform();
//3. Bütün kategorilerde "Tümünü gör" linkinin oldu?unu do?rula.
boolean tumunugorvisible = trd.tumunuGor.stream().allMatch(t -> t.isDisplayed());
soft.assertTrue(tumunugorvisible);
//4. "Tümünü gör" linklerinin ilgili kategorinin anasayfas?na yönlendirdi?ini do?rula.
Random rnd=new Random();
int random= rnd.nextInt(trd.tumunuGor.size()-1);
System.out.println(random);
String randomCategorie=trd.allCategories.get(random).getText();
System.out.println(randomCategorie);
trd.selecto(randomCategorie).click();
Assert.assertTrue(randomCategorie.equalsIgnoreCase(trd.check.getText()));
}
@Test
public void US_0022_TC_002() throws InterruptedException {
//1. tradylinn.com git.
Driver.getDriver().get(ConfigReader.getProperty("tradyUrl"));
//2. Sayfay? a?a?? kayd?r.
action.sendKeys(Keys.PAGE_DOWN).perform();
//3. "?ndirimli Ürünler" sayfas?na git.
WebElement tumunuggor = trd.selecto("?ndirimli Ürünler");
String str = tumunuggor.getText();
tumunuggor.click();
soft.assertTrue(str.equalsIgnoreCase(trd.check.getText()));
//4. Aç?l?r menüde default seçene?in "Varsay?lan S?ralama" oldu?unu do?rula.
Select select = new Select(trd.dde);
Assert.assertTrue(select.getOptions().get(0).getText().equalsIgnoreCase("Varsay?lan S?ralama"));
//5. Aç?l?r menüde bu seçeneklerin oldu?unu do?rula:
//	En çok incelenene göre s?rala
//	En çok oy alana göre s?rala
//	En yeniye göre s?rala
//	Fiyata göre s?rala: Dü?ükten yükse?e
//	Fiyata göre s?rala: Yüksekten dü?ü?e
List<String> arr = Arrays.asList("En çok incelenene göre s?rala", "En çok oy alana göre s?rala", "Fiyata göre s?rala: Dü?ükten yükse?e", "Fiyata göre s?rala: Yüksekten dü?ü?e");
Thread.sleep(5000);2345678
for (int i = 0; i < arr.size(); i++) {
soft.assertTrue(trd.choiceElement(select.getOptions(), arr.get(i)).isDisplayed());
}
//6. kullanici "Fiyata göre s?rala: Dü?ükten yükse?e" seçecek
Thread.sleep(5000);
select.selectByVisibleText("Fiyata göre s?rala: Dü?ükten yükse?e");
//7. "Fiyata göre s?rala: Dü?ükten yükse?e" seçildi?inde, fiyatlar?n dü?ükten yükse?e s?raland???n? do?rula.
Thread.sleep(5000);
ArrayList<Double> prices1=new ArrayList<>();
for (int i = 0; i < trd.allPrices.size(); i++) {
prices1.add(i, Double.valueOf((trd.allPrices.get(i).getText().split("?")[0])));
}
Thread.sleep(5000);
boolean isDescSorted = true; // Ba?tan true dedik.
// Burada art?k isAscSorted küçükten büyü?e s?ral? m? de?il mi gösterir.
for (int i = 1; i < trd.allPrices.size(); i++) {
if(prices1.get(i) > prices1.get(i-1)) {
isDescSorted = false; // S?ray? bozan ko?ul denk gelirse false olacak.
}
}
soft.assertTrue(isDescSorted);
Thread.sleep(5000);
//8. kullanici "Fiyata göre s?rala: Yüksekten dü?ü?e" seçecek
select.selectByVisibleText("Fiyata göre s?rala: Yüksekten dü?ü?e");
Thread.sleep(10000);
//9. "Fiyata göre s?rala: Yüksekten dü?ü?e" seçildi?inde, fiyatlar?n yüksekten dü?ü?e s?raland???n? do?rula.
ArrayList<Double> prices2=new ArrayList<>();
for (int i = 0; i < trd.allPrices.size(); i++) {
prices2.add(i, Double.valueOf((trd.allPrices.get(i).getText().split("?")[0].replace(",", ""))));
}
System.out.println(prices2);
// Burada art?k isDescSorted büyükten küçü?e s?ral? m? de?il mi gösterir.
boolean isAscSorted = true; // Ba?tan true dedik.
Thread.sleep(5000);
for (int i = 1; i < trd.allPrices.size(); i++) {
if(prices2.get(i) < prices2.get(i-1)) {
isAscSorted = false; // S?ray? bozan ko?ul denk gelirse false olacak.
}
}
soft.assertTrue(isAscSorted);
Thread.sleep(5000);
Driver.getClose();
}